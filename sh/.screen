# .screen = reconnect with the youngest Screen Session

echo + screen -ls >&2
SCREEN_LS=$(screen -ls)
echo "$SCREEN_LS"

if [ $# -ne 0 ]; then

    set -xe
    screen -rr "$@"

elif [ "$(uname)" != "Darwin" ]; then

    set -xe
    screen -rr

else
    MAX_PID=$(echo "$SCREEN_LS" |awk -F'\t' '(NF > 1){print $2}' |cut -d. -f1 |sort -n |tail -1)
    if [ "$MAX_PID" == "" ]; then

        set -xe
        screen -rr

    else

        set -xe
        screen -r "$MAX_PID"

    fi
fi
